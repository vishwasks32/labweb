<h1 id="lab-adding-a-configuration-server--externalize-config-to-github">Lab: Adding a configuration server &amp; externalize config to github</h1>
<h2 id="tasks">Tasks</h2>
<h3 id="task-1-generating-template-from-spring-initializer">Task 1: Generating Template from spring initializer</h3>
<ul>
<li>visit the <a href="https://start.spring.io">spring initializer</a></li>
<li>Add the dependencies</li>
</ul>
<p><img src="./images/image4-1.png" /></p>
<h3 id="task-2-open-the-project-in-intellij">Task 2: Open the project in intellij</h3>
<ul>
<li>Convert <code>application.properties</code> to <code>application.yaml</code></li>
</ul>
<h3 id="task-3-enable-config-server">Task 3: Enable Config Server</h3>
<p>Add annotation <code>@EnableConfigServer</code> in <code>application.java</code></p>
<p><img src="./images/image4-2.png" /></p>
<h3 id="task-4-add-the-configuration-to-github">Task 4: Add the configuration to github</h3>
<p><img src="./images/image4-3.png" /></p>
<h3 id="task-5-add-the-configuration-to-the-applicationyaml">Task 5: add the configuration to the application.yaml</h3>
<ul>
<li>In the config Server microservice</li>
</ul>
<p><img src="./images/image4-4.png" /></p>
<h3 id="task-6-adding-config-client-in-event-and-venue-service">Task 6: Adding config client in event and venue service</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">&lt;dependency&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    <span class="kw">&lt;groupId&gt;</span>org.springframework.cloud<span class="kw">&lt;/groupId&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    <span class="kw">&lt;artifactId&gt;</span>spring-cloud-starter-config<span class="kw">&lt;/artifactId&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="kw">&lt;/dependency&gt;</span></span></code></pre></div>
<ul>
<li>Then in application.yaml of event service and venue service</li>
<li>Remove/comment eureka configuration</li>
<li>Add config server configuration</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="fu">spring</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="at">    </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="at">        </span><span class="fu">import</span><span class="kw">:</span><span class="at"> configserver:http://localhost:9296</span></span></code></pre></div>
<ul>
<li>Then start service registry, config server and venue service and event service</li>
</ul>
<h2 id="output">Output</h2>
<p><img src="./images/image4-5.png" /></p>
<p>Visit <a href="https://spring.io/guides/gs/centralized-configuration">https://spring.io/guides/gs/centralized-configuration</a> for more</p>
